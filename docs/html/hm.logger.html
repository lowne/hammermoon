<html>
<title>hm.logger - Hammermoon documentation</title>
<meta charset="UTF-8">
<link href="docs.css" rel="stylesheet" type="text/css">
<link href="rainbow.css" rel="stylesheet" type="text/css">
<body>
<a name="//apple_ref/cpp/Module/hm.logger" class="dashAnchor"></a><h1 id="hm.logger">Module <code>hm.logger</code></h1><span class=short>Simple logger for debugging purposes.</p><p class=long></p><h2>Overview</h2><dl><dt>Module <a href=hm.logger.html#hm.logger><code>hm.logger</code></a></dt><dd><a href=hm.logger.html#hm.logger-defaultLogLevel><code>defaultLogLevel</code></a> : <a href=hm.logger.html#loglevel><em><code>&lt;#loglevel&gt;</code></em></a> - field</dd><dd><a href=hm.logger.html#hm.logger-historySize><code>historySize</code></a> : <em><code>&lt;#number&gt;</code></em> - field</dd><dd><a href=hm.logger.html#hm.logger-history><code>history()</code></a> &ndash;&rsaquo; <em><code>&lt;?&gt;</code></em> - function</dd><dd><a href=hm.logger.html#hm.logger-new><code>new(id,loglevel)</code></a> &ndash;&rsaquo; <a href=hm.logger.html#logger><em><code>&lt;#logger&gt;</code></em></a> - function</dd><dd><a href=hm.logger.html#hm.logger-printHistory><code>printHistory(filter,level,caseSensitive,entries)</code></a> - function</dd><dd><a href=hm.logger.html#hm.logger-setGlobalLogLevel><code>setGlobalLogLevel(lvl)</code></a> - function</dd><dd><a href=hm.logger.html#hm.logger-setModulesLogLevel><code>setModulesLogLevel(lvl)</code></a> - function</dd></dl><dl><dt>Type <a href=hm.logger.html#logger><code>logger</code></a></dt><dd><a href=hm.logger.html#logger-level><code>level</code></a> : <em><code>&lt;#number&gt;</code></em> - field</dd><dd><a href=hm.logger.html#logger-d><code>d(...)</code></a> - function</dd><dd><a href=hm.logger.html#logger-e><code>e(...)</code></a> &ndash;&rsaquo; <em><code>nil</code></em>,<em><code>&lt;#string&gt;</code></em> - function</dd><dd><a href=hm.logger.html#logger-fd><code>fd(fmt,...)</code></a> - function</dd><dd><a href=hm.logger.html#logger-fe><code>fe(fmt,...)</code></a> &ndash;&rsaquo; <em><code>nil</code></em>,<em><code>&lt;#string&gt;</code></em> - function</dd><dd><a href=hm.logger.html#logger-fi><code>fi(fmt,...)</code></a> - function</dd><dd><a href=hm.logger.html#logger-fv><code>fv(fmt,...)</code></a> - function</dd><dd><a href=hm.logger.html#logger-fw><code>fw(fmt,...)</code></a> - function</dd><dd><a href=hm.logger.html#logger-getLogLevel><code>getLogLevel()</code></a> &ndash;&rsaquo; <em><code>&lt;#number&gt;</code></em> - function</dd><dd><a href=hm.logger.html#logger-i><code>i(...)</code></a> - function</dd><dd><a href=hm.logger.html#logger-setLogLevel><code>setLogLevel(loglevel)</code></a> - function</dd><dd><a href=hm.logger.html#logger-v><code>v(...)</code></a> - function</dd><dd><a href=hm.logger.html#logger-w><code>w(...)</code></a> - function</dd></dl><dl><dt>Type <a href=hm.logger.html#loglevel><code>loglevel</code></a></dt></dl><br><a name="//apple_ref/cpp/Module/hm.logger" class="dashAnchor"></a><h2 id="hm.logger">Module <code>hm.logger</code></h2><span class=short></p><p class=long></p><a name="//apple_ref/cpp/Field/hm.logger.defaultLogLevel" class="dashAnchor"></a><h3 id="hm.logger-defaultLogLevel">Field <code>hm.logger.defaultLogLevel</code>: <a href=hm.logger.html#loglevel><em><code>&lt;#loglevel&gt;</code></em></a></h3><span class=short>Default log level for new logger instances.</p><p class=long>The starting value is <code>'warning'</code>; set this (to e.g. <code>'info'</code>) at the top of your userscript to affect
all logger instances created without specifying a <code>loglevel</code> parameter</p><a name="//apple_ref/cpp/Field/hm.logger.historySize" class="dashAnchor"></a><h3 id="hm.logger-historySize">Field <code>hm.logger.historySize</code>: <em><code>&lt;#number&gt;</code></em></h3><span class=short>The number of log entries to keep in the history.</p><p class=long>The starting value is 0 (history is disabled). To enable the log history, set this at the top of your userscript.
If you change history size (other than from 0) after creating any logger instances, things will likely break.</p><a name="//apple_ref/cpp/Function/hm.logger.history" class="dashAnchor"></a><h3 id="hm.logger-history">Function <code>hm.logger.history()</code> &ndash;&rsaquo; <em><code>&lt;?&gt;</code></em></h3><span class=short>Returns the global log history.</p><ul><li>Returns <em><code>&lt;?&gt;</code></em>: <span class=short>a list of (at most <code>hs.logger.historySize</code>) log entries produced by all the logger instances, in chronological order</p></li></ul><p class=long>Each log entry in the returned list is a table with the following fields:<li>time - timestamp in seconds since the epoch</li><li>level - a number between 1 (error) and 5 (verbose)</li><li>id - a string containing the id of the logger instance that produced this entry</li><li>message - a string containing the logged message</li></p><a name="//apple_ref/cpp/Function/hm.logger.new" class="dashAnchor"></a><h3 id="hm.logger-new">Function <code>hm.logger.new(id,loglevel)</code> &ndash;&rsaquo; <a href=hm.logger.html#logger><em><code>&lt;#logger&gt;</code></em></a></h3><span class=short>Creates a new logger instance.</p><ul><li> <code>id</code>: <em><code>&lt;#string&gt;</code></em> <span class=short>a string identifier for the instance (usually the module name)</p></li><li> <code>loglevel</code>: <a href=hm.logger.html#loglevel><em><code>&lt;#loglevel&gt;</code></em></a> <span class=short>(optional) can be 'nothing', 'error', 'warning', 'info', 'debug', or 'verbose',
or a corresponding number between 0 and 5; uses <code>hs.logger.defaultLogLevel</code> if omitted</p></li></ul><ul><li>Returns <a href=hm.logger.html#logger><em><code>&lt;#logger&gt;</code></em></a>: <span class=short>the new logger instance</p></li></ul><p class=long>The logger instance created by this method is not a regular object, but a plain table with "static" functions;
therefore, do <em>not</em> use the colon syntax for so-called "methods" in this module (as in <code>mylogger:setLogLevel(3)</code>);
you must instead use the regular dot syntax: <code>mylogger.setLogLevel(3)</code></p><strong>Usage:</strong><br><pre><code class="language-lua">local log = hs.logger.new('mymodule','debug')
log.i('Initializing') -- will print "[mymodule] Initializing" to the console</code></pre><a name="//apple_ref/cpp/Function/hm.logger.printHistory" class="dashAnchor"></a><h3 id="hm.logger-printHistory">Function <code>hm.logger.printHistory(filter,level,caseSensitive,entries)</code></h3><span class=short>Prints the global log history to the console.</p><ul><li> <code>filter</code>: <em><code>&lt;#string&gt;</code></em> <span class=short>(optional) a string to filter the entries (by logger id or message) via <code>string.find</code> plain matching</p></li><li> <code>level</code>: <a href=hm.logger.html#loglevel><em><code>&lt;#loglevel&gt;</code></em></a> <span class=short>(optional) the desired log level; if omitted, defaults to <code>verbose</code></p></li><li> <code>caseSensitive</code>: <em><code>&lt;#boolean&gt;</code></em> <span class=short>(optional) if true, filtering is case sensitive</p></li><li> <code>entries</code>: <em><code>&lt;#number&gt;</code></em> <span class=short>(optional) the maximum number of entries to print; if omitted, all entries in the history will be printed</p></li></ul><p class=long></p><a name="//apple_ref/cpp/Function/hm.logger.setGlobalLogLevel" class="dashAnchor"></a><h3 id="hm.logger-setGlobalLogLevel">Function <code>hm.logger.setGlobalLogLevel(lvl)</code></h3><span class=short>Sets the log level for all logger instances (including objects' loggers)</p><ul><li> <code>lvl</code>: <a href=hm.logger.html#loglevel><em><code>&lt;#loglevel&gt;</code></em></a> <span class=short></p></li></ul><p class=long></p><a name="//apple_ref/cpp/Function/hm.logger.setModulesLogLevel" class="dashAnchor"></a><h3 id="hm.logger-setModulesLogLevel">Function <code>hm.logger.setModulesLogLevel(lvl)</code></h3><span class=short>Sets the log level for all currently loaded modules.</p><ul><li> <code>lvl</code>: <a href=hm.logger.html#loglevel><em><code>&lt;#loglevel&gt;</code></em></a> <span class=short></p></li></ul><p class=long>This function only affects <em>module</em>-level loggers, object instances with their own loggers (e.g. windowfilters) won't be affected;
you can use <code>hs.logger.setGlobalLogLevel()</code> for those</p><br><a name="//apple_ref/cpp/Type/&lt;#logger&gt;" class="dashAnchor"></a><h3 id="logger">Type <code>logger</code></h3><span class=short>A logger instance.</p><p class=long></p><a name="//apple_ref/cpp/Field/&lt;#logger&gt;.level" class="dashAnchor"></a><h3 id="logger-level">Field <code>&lt;#logger&gt;.level</code>: <em><code>&lt;#number&gt;</code></em></h3><span class=short>The log level of the logger instance, as a number between 0 and 5</p><p class=long></p><a name="//apple_ref/cpp/Function/&lt;#logger&gt;.d" class="dashAnchor"></a><h3 id="logger-d">Function <code>&lt;#logger&gt;.d(...)</code></h3><span class=short>Logs debug info to the console</p><ul><li> <code>...</code>: <em><code>&lt;?&gt;</code></em> <span class=short>one or more message strings</p></li></ul><p class=long></p><a name="//apple_ref/cpp/Function/&lt;#logger&gt;.e" class="dashAnchor"></a><h3 id="logger-e">Function <code>&lt;#logger&gt;.e(...)</code> &ndash;&rsaquo; <em><code>nil</code></em>,<em><code>&lt;#string&gt;</code></em></h3><span class=short>Logs an error to the console</p><ul><li> <code>...</code>: <em><code>&lt;?&gt;</code></em> <span class=short>one or more message strings</p></li></ul><ul><li>Returns <em><code>nil</code></em>,<em><code>&lt;#string&gt;</code></em>: <span class=short>nil and the error message</p></li></ul><p class=long></p><a name="//apple_ref/cpp/Function/&lt;#logger&gt;.fd" class="dashAnchor"></a><h3 id="logger-fd">Function <code>&lt;#logger&gt;.fd(fmt,...)</code></h3><span class=short>Logs formatted debug info to the console</p><ul><li> <code>fmt</code>: <em><code>&lt;#string&gt;</code></em> <span class=short>formatting string as per <code>string.format</code></p></li><li> <code>...</code>: <em><code>&lt;?&gt;</code></em> <span class=short>one or more message strings</p></li></ul><p class=long></p><a name="//apple_ref/cpp/Function/&lt;#logger&gt;.fe" class="dashAnchor"></a><h3 id="logger-fe">Function <code>&lt;#logger&gt;.fe(fmt,...)</code> &ndash;&rsaquo; <em><code>nil</code></em>,<em><code>&lt;#string&gt;</code></em></h3><span class=short>Logs a formatted error to the console</p><ul><li> <code>fmt</code>: <em><code>&lt;#string&gt;</code></em> <span class=short>formatting string as per <code>string.format</code></p></li><li> <code>...</code>: <em><code>&lt;?&gt;</code></em> <span class=short>one or more message strings</p></li></ul><ul><li>Returns <em><code>nil</code></em>,<em><code>&lt;#string&gt;</code></em>: <span class=short>nil and the error message</p></li></ul><p class=long></p><a name="//apple_ref/cpp/Function/&lt;#logger&gt;.fi" class="dashAnchor"></a><h3 id="logger-fi">Function <code>&lt;#logger&gt;.fi(fmt,...)</code></h3><span class=short>Logs formatted info to the console</p><ul><li> <code>fmt</code>: <em><code>&lt;#string&gt;</code></em> <span class=short>formatting string as per <code>string.format</code></p></li><li> <code>...</code>: <em><code>&lt;?&gt;</code></em> <span class=short>one or more message strings</p></li></ul><p class=long></p><a name="//apple_ref/cpp/Function/&lt;#logger&gt;.fv" class="dashAnchor"></a><h3 id="logger-fv">Function <code>&lt;#logger&gt;.fv(fmt,...)</code></h3><span class=short>Logs formatted verbose info to the console</p><ul><li> <code>fmt</code>: <em><code>&lt;#string&gt;</code></em> <span class=short>formatting string as per <code>string.format</code></p></li><li> <code>...</code>: <em><code>&lt;?&gt;</code></em> <span class=short>one or more message strings</p></li></ul><p class=long></p><a name="//apple_ref/cpp/Function/&lt;#logger&gt;.fw" class="dashAnchor"></a><h3 id="logger-fw">Function <code>&lt;#logger&gt;.fw(fmt,...)</code></h3><span class=short>Logs a formatted warning to the console</p><ul><li> <code>fmt</code>: <em><code>&lt;#string&gt;</code></em> <span class=short>formatting string as per <code>string.format</code></p></li><li> <code>...</code>: <em><code>&lt;?&gt;</code></em> <span class=short>one or more message strings</p></li></ul><p class=long></p><a name="//apple_ref/cpp/Function/&lt;#logger&gt;.getLogLevel" class="dashAnchor"></a><h3 id="logger-getLogLevel">Function <code>&lt;#logger&gt;.getLogLevel()</code> &ndash;&rsaquo; <em><code>&lt;#number&gt;</code></em></h3><span class=short>Gets the log level of the logger instance</p><ul><li>Returns <em><code>&lt;#number&gt;</code></em>: <span class=short>The log level of this logger as a number between 0 ('nothing') and 5 ('verbose')</p></li></ul><p class=long></p><a name="//apple_ref/cpp/Function/&lt;#logger&gt;.i" class="dashAnchor"></a><h3 id="logger-i">Function <code>&lt;#logger&gt;.i(...)</code></h3><span class=short>Logs info to the console</p><ul><li> <code>...</code>: <em><code>&lt;?&gt;</code></em> <span class=short>one or more message strings</p></li></ul><p class=long></p><a name="//apple_ref/cpp/Function/&lt;#logger&gt;.setLogLevel" class="dashAnchor"></a><h3 id="logger-setLogLevel">Function <code>&lt;#logger&gt;.setLogLevel(loglevel)</code></h3><span class=short>Sets the log level of the logger instance</p><ul><li> <code>loglevel</code>: <a href=hm.logger.html#loglevel><em><code>&lt;#loglevel&gt;</code></em></a> <span class=short>can be 'nothing', 'error', 'warning', 'info', 'debug', or 'verbose'; or a corresponding number between 0 and 5</p></li></ul><p class=long></p><a name="//apple_ref/cpp/Function/&lt;#logger&gt;.v" class="dashAnchor"></a><h3 id="logger-v">Function <code>&lt;#logger&gt;.v(...)</code></h3><span class=short>Logs verbose info to the console</p><ul><li> <code>...</code>: <em><code>&lt;?&gt;</code></em> <span class=short>one or more message strings</p></li></ul><p class=long></p><a name="//apple_ref/cpp/Function/&lt;#logger&gt;.w" class="dashAnchor"></a><h3 id="logger-w">Function <code>&lt;#logger&gt;.w(...)</code></h3><span class=short>Logs a warning to the console</p><ul><li> <code>...</code>: <em><code>&lt;?&gt;</code></em> <span class=short>one or more message strings</p></li></ul><p class=long></p><br><a name="//apple_ref/cpp/Type/&lt;#loglevel&gt;" class="dashAnchor"></a><h3 id="loglevel">Type <code>loglevel</code></h3><blockquote>Extends <em><code>&lt;#string&gt;</code></em></blockquote><span class=short>A string or number describing a log level.</p><p class=long>Can be <code>'nothing'</code>, <code>'error'</code>, <code>'warning'</code>, <code>'info'</code>, <code>'debug'</code>, or <code>'verbose'</code>, or a corresponding number between 0 and 5.</p><br>
<script src="rainbow.js"></script>
</body>
</html>
